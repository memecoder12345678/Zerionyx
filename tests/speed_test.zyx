load "libs.time"
load "libs.sys"

N = 1000000
repeats = 10
times = []

for r = 1 to repeats + 1 do
    total = 0
    start = time.time()
    for i = 1 to N + 1 do
        total += i
    done
    end = time.time()
    append(times, end - start)
done

let sum = 0
let fastest = (times$0)
let slowest = (times$0)

for t in times do
    sum += t
    if t < fastest do
        fastest = t
    done
    if t > slowest do
        slowest = t
    done
done

avg = sum / to_float(len(times))

println("Average: " + to_str(avg)     + " s")
println("Fastest: " + to_str(fastest) + " s")
println("Slowest: " + to_str(slowest) + " s")

# Zerionyx executed on Python 3.12.8 (64-bit) on AMD Ryzen 7 4800H laptop (plugged-in mode):
# Average: 6.663556218147278 s
# Fastest: 6.343989849090576 s
# Slowest: 7.311691522598267 s

# Zerionyx executed on PyPy 3.11 (v7.3.19, 64-bit, JIT enabled) on AMD Ryzen 7 4800H laptop (plugged-in mode):
# Average: 0.385618782043457 s
# Fastest: 0.343375682830810 s
# Slowest: 0.444282054901123 s
